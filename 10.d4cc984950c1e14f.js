"use strict";(self.webpackChunksaute_web=self.webpackChunksaute_web||[]).push([[10],{6010:(ae,b,r)=>{r.r(b),r.d(b,{InstituicaoModule:()=>oe});var s=r(6895),p=r(9299),q=r(8739),C=r(6308),m=r(7155),d=r(9300),g=r(3900),h=r(361),t=r(4650),U=r(6489),Y=r(7392),x=r(4859),F=r(4850),v=r(8255),f=r(9549),N=r(4144),Q=r(3162);function J(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-form-field",37)(1,"mat-label"),t._uU(2,"Filtrar por"),t.qZA(),t.TgZ(3,"mat-icon",38),t._uU(4,"filter_alt"),t.qZA(),t.TgZ(5,"input",39,40),t.NdJ("keyup",function(n){t.CHM(o);const l=t.oxw();return t.KtG(l.applyFilter(n))}),t.qZA()()}}function S(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"#"),t.qZA())}function B(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.id)}}function M(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Institui\xe7\xe3o"),t.qZA())}function R(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.instituicao)}}function O(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"N\xedvel Escolar"),t.qZA())}function $(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.nivelEscolar.nivelEscolar)}}function k(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Rua"),t.qZA())}function V(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.endereco.rua)}}function W(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"N\xfamero"),t.qZA())}function G(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.endereco.numero)}}function L(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Bairro"),t.qZA())}function H(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.endereco.bairro)}}function z(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Estado"),t.qZA())}function P(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.endereco.uf)}}function j(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Munic\xedpio"),t.qZA())}function X(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.endereco.municipio)}}function w(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"CEP"),t.qZA())}function K(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.endereco.cep)}}function tt(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"E-mail"),t.qZA())}function et(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.email)}}function ot(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Depend\xeancia"),t.qZA())}function at(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.dependencia)}}function it(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Entidade"),t.qZA())}function nt(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.entidade)}}function rt(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Credenciamento"),t.qZA())}function ct(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.credenciamento)}}function mt(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Val. cred.:"),t.qZA())}function lt(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,o.validadeCredenciamento,"shortDate","","pt-BR"))}}function ut(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Recredenciamento"),t.qZA())}function st(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(o.recredenciamento)}}function pt(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Val. recr.:"),t.qZA())}function dt(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij("",t.gM2(2,1,o.validadeRecredenciamento,"shortDate","","pt-BR")," ")}}function ft(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Criado em"),t.qZA())}function ht(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,o.createdAt,"short","","pt-BR"))}}function _t(e,a){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Atualizado em"),t.qZA())}function Zt(e,a){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,o.updatedAt,"short","","pt-BR"))}}function gt(e,a){1&e&&(t.TgZ(0,"th",43),t._uU(1,"A\xe7\xf5es"),t.qZA())}function Tt(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"td",42)(1,"button",44),t.NdJ("click",function(){const l=t.CHM(o).$implicit,u=t.oxw();return t.KtG(u.onUpdate(l.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",45),t.NdJ("click",function(){const l=t.CHM(o).$implicit,u=t.oxw();return t.KtG(u.onDelete(l.id))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function Ct(e,a){1&e&&t._UZ(0,"tr",46)}function vt(e,a){1&e&&t._UZ(0,"tr",47)}function It(e,a){1&e&&t._UZ(0,"mat-progress-bar",48)}const At=function(){return[5,10,25,100]};let Et=(()=>{class e{constructor(o,i,n){this.service=o,this.helper=i,this.router=n,this.isLoadingData=!0,this.isEnabledFilter=!1,this.displayedColumns=["instituicao","nivelEscolar.nivelEscolar","endereco.rua","endereco.numero","endereco.bairro","endereco.uf","endereco.municipio","email","dependencia","entidade","credenciamento","validadeCredenciamento","actions"],this.dataSource=new m.by([]),this.paginator={},this.sort={},this.loadDatatable()}loadDatatable(){this.service.index().subscribe({next:o=>{this.dataSource=new m.by(o),this.dataSource.sortingDataAccessor=h.W.nestedSortingDataAccessor,this.dataSource.filterPredicate=h.W.nestedFilterPredicate,this.sort.sortables&&(this.dataSource.sort=this.sort),this.paginator.page&&(this.dataSource.paginator=this.paginator),this.isLoadingData=!1},error:o=>this.defaultError(o)})}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onUpdate(o){this.router.navigate([`instituicao/${o}/edit`])}onDelete(o){this.helper.confirmDialog().pipe((0,d.h)(i=>i),(0,g.w)(i=>this.service.destroy(o))).subscribe({next:i=>{this.helper.alertSnack("Removido com sucesso!"),this.refreshComponent()},error:i=>this.defaultError(i)})}refreshComponent(){this.router.navigateByUrl("nivelescolar",{skipLocationChange:!0}).then(()=>{this.router.navigate(["instituicao"])})}defaultError(o){this.helper.alertSnack(403==o.status?"Sem permiss\xe3o para esta opera\xe7\xe3o":"Ocorreu um erro")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(U.W),t.Y36(h.W),t.Y36(p.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-instituicao-datatable"]],viewQuery:function(o,i){if(1&o&&(t.Gf(q.NW,5),t.Gf(C.YE,5)),2&o){let n;t.iGM(n=t.CRH())&&(i.paginator=n.first),t.iGM(n=t.CRH())&&(i.sort=n.first)}},decls:83,vars:9,consts:[[1,"header-view"],[1,"mat-h1"],["vertical",""],[1,"toolbar-spacer"],["mat-raised-button","","color","primary","routerLink","/instituicao/create"],["mat-raised-button","","color","accent",1,"ml-2",3,"matMenuTriggerFor"],["optMenu","matMenu"],["mat-menu-item","",3,"click"],["appearance","standard",4,"ngIf"],[1,"datatable-panel"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","instituicao"],["matColumnDef","nivelEscolar.nivelEscolar"],["matColumnDef","endereco.rua"],["matColumnDef","endereco.numero"],["matColumnDef","endereco.bairro"],["matColumnDef","endereco.uf"],["matColumnDef","endereco.municipio"],["matColumnDef","endereco.cep"],["matColumnDef","email"],["matColumnDef","dependencia"],["matColumnDef","entidade"],["matColumnDef","credenciamento"],["matColumnDef","validadeCredenciamento"],["matColumnDef","recredenciamento"],["matColumnDef","validadeRecredenciamento"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mode","indeterminate",4,"ngIf"],[3,"pageSizeOptions","pageSize"],["appearance","standard"],["matSuffix",""],["matInput","","placeholder","",3,"keyup"],["input",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div")(2,"span",1),t._uU(3,"Institui\xe7\xe3o"),t.qZA()(),t._UZ(4,"mat-divider",2)(5,"span",3),t.TgZ(6,"div")(7,"button",4),t._uU(8,"Novo Registro"),t.qZA(),t.TgZ(9,"button",5)(10,"mat-icon"),t._uU(11,"tune"),t.qZA()(),t.TgZ(12,"mat-menu",null,6)(14,"button",7),t.NdJ("click",function(){return i.isEnabledFilter=!i.isEnabledFilter}),t.TgZ(15,"mat-icon"),t._uU(16,"filter_alt"),t.qZA(),t.TgZ(17,"span"),t._uU(18,"Filtros"),t.qZA()()()()(),t.YNc(19,J,7,0,"mat-form-field",8),t.TgZ(20,"div",9)(21,"table",10),t.ynx(22,11),t.YNc(23,S,2,0,"th",12),t.YNc(24,B,2,1,"td",13),t.BQk(),t.ynx(25,14),t.YNc(26,M,2,0,"th",12),t.YNc(27,R,2,1,"td",13),t.BQk(),t.ynx(28,15),t.YNc(29,O,2,0,"th",12),t.YNc(30,$,2,1,"td",13),t.BQk(),t.ynx(31,16),t.YNc(32,k,2,0,"th",12),t.YNc(33,V,2,1,"td",13),t.BQk(),t.ynx(34,17),t.YNc(35,W,2,0,"th",12),t.YNc(36,G,2,1,"td",13),t.BQk(),t.ynx(37,18),t.YNc(38,L,2,0,"th",12),t.YNc(39,H,2,1,"td",13),t.BQk(),t.ynx(40,19),t.YNc(41,z,2,0,"th",12),t.YNc(42,P,2,1,"td",13),t.BQk(),t.ynx(43,20),t.YNc(44,j,2,0,"th",12),t.YNc(45,X,2,1,"td",13),t.BQk(),t.ynx(46,21),t.YNc(47,w,2,0,"th",12),t.YNc(48,K,2,1,"td",13),t.BQk(),t.ynx(49,22),t.YNc(50,tt,2,0,"th",12),t.YNc(51,et,2,1,"td",13),t.BQk(),t.ynx(52,23),t.YNc(53,ot,2,0,"th",12),t.YNc(54,at,2,1,"td",13),t.BQk(),t.ynx(55,24),t.YNc(56,it,2,0,"th",12),t.YNc(57,nt,2,1,"td",13),t.BQk(),t.ynx(58,25),t.YNc(59,rt,2,0,"th",12),t.YNc(60,ct,2,1,"td",13),t.BQk(),t.ynx(61,26),t.YNc(62,mt,2,0,"th",12),t.YNc(63,lt,3,6,"td",13),t.BQk(),t.ynx(64,27),t.YNc(65,ut,2,0,"th",12),t.YNc(66,st,2,1,"td",13),t.BQk(),t.ynx(67,28),t.YNc(68,pt,2,0,"th",12),t.YNc(69,dt,3,6,"td",13),t.BQk(),t.ynx(70,29),t.YNc(71,ft,2,0,"th",12),t.YNc(72,ht,3,6,"td",13),t.BQk(),t.ynx(73,30),t.YNc(74,_t,2,0,"th",12),t.YNc(75,Zt,3,6,"td",13),t.BQk(),t.ynx(76,31),t.YNc(77,gt,2,0,"th",32),t.YNc(78,Tt,7,0,"td",13),t.BQk(),t.YNc(79,Ct,1,0,"tr",33),t.YNc(80,vt,1,0,"tr",34),t.qZA()(),t.YNc(81,It,1,0,"mat-progress-bar",35),t._UZ(82,"mat-paginator",36)),2&o){const n=t.MAs(13);t.xp6(9),t.Q6J("matMenuTriggerFor",n),t.xp6(10),t.Q6J("ngIf",i.isEnabledFilter),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(58),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",i.isLoadingData),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(8,At))("pageSize",10)}},dependencies:[s.O5,Y.Hw,x.lW,F.d,v.VK,v.OP,v.p6,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,f.KE,f.hX,f.R9,N.Nt,q.NW,C.YE,C.nU,Q.pW,p.rH,s.uU]}),e})();var c=r(4006),I=r(515),A=r(8505),bt=r(7579),qt=r(6451),Ut=r(4004),_=r(3562),T=r(3789),xt=r(6055),Nt=r(5300),Dt=r(3238),D=r(7957);const yt=["autoUf"],Yt=["cep"];function Ft(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function Qt(e,a){if(1&e&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o.nivelEscolar," ")}}function Jt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function St(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Valor selecionado \xe9 inv\xe1lido. "),t.qZA())}function Bt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function Mt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function Rt(e,a){if(1&e&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o.nome," ")}}function Ot(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function $t(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Valor selecionado \xe9 inv\xe1lido. "),t.qZA())}function kt(e,a){if(1&e&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o.nome," ")}}function Vt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function Wt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Valor selecionado \xe9 inv\xe1lido. "),t.qZA())}function Gt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function Lt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," E-mail inv\xe1lido. "),t.qZA())}function Ht(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function zt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function Pt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function jt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}function Xt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Formato inv\xe1lido. "),t.qZA())}function wt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Formato inv\xe1lido. "),t.qZA())}let y=(()=>{class e{constructor(o,i,n,l,u,E,Z){this.fb=o,this.nivelEscolarService=i,this.instituicaoService=n,this.helper=l,this.router=u,this.route=E,this.brInfo=Z,this.formMode=T.h.INSERT,this.entity={},this.displayAuto=h.W.displayAuto,this.nivelEscolarIsBusy=!1,this.nivelEscolar$=I.E,this.ufs$=I.E,this.municipios$=I.E,this._autoUf={},this._cep={},this.form=this.fb.group({instituicao:["",c.kI.required],nivelEscolar:["",[c.kI.required,_.d.autocompleteValidator()]],endereco:this.fb.group({cep:[""],rua:["",c.kI.required],numero:[""],bairro:["",c.kI.required],municipio:["",[c.kI.required,_.d.autocompleteValidator()]],uf:["",[c.kI.required,_.d.autocompleteValidator()]]}),email:["",[c.kI.required,c.kI.email]],dependencia:["",c.kI.required],entidade:["",c.kI.required],credenciamento:["",c.kI.required],validadeCredenciamento:["",[c.kI.required,_.d.date()]],recredenciamento:[""],validadeRecredenciamento:["",[_.d.date()]]})}ngOnInit(){this.initNivelEscolar(),this.initCEP(),this.ufs$=this.brInfo.getStates().pipe((0,A.b)(()=>this.loadFormData())),this.initMunicipio()}initNivelEscolar(){const o=new bt.x,i=o.asObservable();this.nivelEscolar$=(0,qt.T)(i,this.form.controls.nivelEscolar.valueChanges.pipe((0,d.h)(n=>!n.nivelEscolar),(0,d.h)(()=>!this.nivelEscolarIsBusy),(0,A.b)(()=>this.nivelEscolarIsBusy=!0),(0,g.w)(n=>this.nivelEscolarService.filter(n)),(0,A.b)(()=>this.nivelEscolarIsBusy=!1))),this.nivelEscolarService.filter("").subscribe(n=>o.next(n))}initCEP(){this.form.controls.endereco.controls.cep.valueChanges.pipe((0,Ut.U)(()=>this._cep.nativeElement.value),(0,d.h)(o=>8===o.length),(0,g.w)(o=>this.brInfo.searchByCEP(""+o)),(0,d.h)(o=>o&&!o.erro)).subscribe(o=>{const i=this.form.controls.endereco.controls,n=i.rua,l=i.bairro,u=i.uf,E=i.municipio;""===n.value&&n.setValue(o.logradouro),""===l.value&&l.setValue(o.bairro),""===u.value&&u.setValue(this._autoUf.options.find(Z=>Z.value.sigla===o.uf)?.value),""===E.value&&this.brInfo.getCityByName(o.localidade).subscribe(Z=>{this.form.controls.endereco.controls.municipio.setValue(Z)})})}initMunicipio(){this.municipios$=this.form.controls.endereco.controls.municipio.valueChanges.pipe((0,d.h)(o=>!o.nome),(0,g.w)(o=>{const i=this.form.controls.endereco.controls.uf.value;return this.brInfo.filterCities(o,i?""+i.id:void 0)}))}loadFormData(){this.route.snapshot.params.id?(this.formMode=T.h.UPDATE,this.instituicaoService.show(this.route.snapshot.params.id).subscribe({next:o=>{if(o.id){this.entity={...o},this.form.controls.nivelEscolar.setValue(o.nivelEscolar),this.form.controls.endereco.controls.uf.setValue(this._autoUf.options.find(n=>n.value.nome===o.endereco.uf)?.value),this.brInfo.getCityByName(o.endereco.municipio).subscribe(n=>{this.form.controls.endereco.controls.municipio.setValue(n)});const i={...o};delete i.nivelEscolar,delete i.endereco.uf,delete i.endereco.municipio,this.form.patchValue(i)}else this.navigateToTable()}})):(this.formMode=T.h.INSERT,this.entity={})}onSubmit(){this.form.valid?(this.entity={...this.entity,...this.form.value},this.entity.nivelEscolarId=this.entity.nivelEscolar?.id||0,this.formMode===T.h.INSERT?this.instituicaoService.store({...this.entity}).subscribe({next:o=>{this.helper.alertSnack("Inserido com sucesso."),this.navigateToTable()},error:o=>this.defaultError(o)}):this.instituicaoService.update(this.entity).subscribe({next:o=>{this.helper.alertSnack("Atualizado com sucesso."),this.navigateToTable()},error:o=>this.defaultError(o)})):this.form.markAllAsTouched()}navigateToTable(){this.router.navigate(["instituicao"])}defaultError(o){this.helper.alertSnack(403==o.status?"Sem permiss\xe3o para esta opera\xe7\xe3o":"Ocorreu um erro")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(c.qu),t.Y36(xt.d),t.Y36(U.W),t.Y36(h.W),t.Y36(p.F0),t.Y36(p.gz),t.Y36(Nt.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-instituicao-form"]],viewQuery:function(o,i){if(1&o&&(t.Gf(yt,5),t.Gf(Yt,5)),2&o){let n;t.iGM(n=t.CRH())&&(i._autoUf=n.first),t.iGM(n=t.CRH())&&(i._cep=n.first)}},decls:103,vars:34,consts:[[1,"form-view"],[1,"header-form"],[1,"mat-h1"],[1,"flex-form",3,"formGroup"],[1,"ocupy3"],["matInput","","type","text","placeholder","Institui\xe7\xe3o","formControlName","instituicao"],[4,"ngIf"],["type","text","placeholder","N\xedvel Escolar","matInput","","formControlName","nivelEscolar",3,"matAutocomplete"],["autoActiveFirstOption","",3,"displayWith"],["autoNivelEscolar","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","endereco",1,"ocupy","flex-form"],["matInput","","type","number","placeholder","CEP","formControlName","cep"],["cep",""],["matInput","","type","text","placeholder","Rua, avenida, logradouro, etc.","formControlName","rua"],["matInput","","type","number","placeholder","N\xfamero","formControlName","numero"],["matInput","","type","text","placeholder","Bairro","formControlName","bairro"],["matInput","","type","text","placeholder","Estado","formControlName","uf",3,"matAutocomplete"],["autoUf","matAutocomplete"],["matInput","","type","text","placeholder","Munic\xedpio","formControlName","municipio",3,"matAutocomplete"],["autoMunicipio","matAutocomplete"],[1,"ocupy2"],["matInput","","type","text","placeholder","E-mail","formControlName","email"],["matInput","","type","text","placeholder","Depend\xeancia","formControlName","dependencia"],["matInput","","type","text","placeholder","Entidade","formControlName","entidade"],[1,"ocupy","flex-form"],["matInput","","type","text","placeholder","Credenciamento","formControlName","credenciamento"],["matInput","","type","date","placeholder","Validade de Credenciamento","formControlName","validadeCredenciamento"],["matInput","","type","text","placeholder","Recredenciamento","formControlName","recredenciamento"],["matInput","","type","date","placeholder","Validade de Recredenciamento","formControlName","validadeRecredenciamento"],[1,"bottom-form"],[1,"toolbar-spacer"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",1,"ml-2",3,"click"],[3,"value"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA()(),t.TgZ(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),t._uU(7,"Institui\xe7\xe3o"),t.qZA(),t._UZ(8,"input",5),t.YNc(9,Ft,2,0,"mat-error",6),t.qZA(),t.TgZ(10,"mat-form-field")(11,"mat-label"),t._uU(12,"N\xedvel Escolar"),t.qZA(),t._UZ(13,"input",7),t.TgZ(14,"mat-autocomplete",8,9),t.YNc(16,Qt,2,2,"mat-option",10),t.ALo(17,"async"),t.qZA(),t.YNc(18,Jt,2,0,"mat-error",6),t.YNc(19,St,2,0,"mat-error",6),t.qZA(),t.TgZ(20,"fieldset",11)(21,"mat-form-field")(22,"mat-label"),t._uU(23,"CEP"),t.qZA(),t._UZ(24,"input",12,13),t.qZA(),t.TgZ(26,"mat-form-field",4)(27,"mat-label"),t._uU(28,"Rua"),t.qZA(),t._UZ(29,"input",14),t.YNc(30,Bt,2,0,"mat-error",6),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"N\xfamero"),t.qZA(),t._UZ(34,"input",15),t.qZA(),t.TgZ(35,"mat-form-field")(36,"mat-label"),t._uU(37,"Bairro"),t.qZA(),t._UZ(38,"input",16),t.YNc(39,Mt,2,0,"mat-error",6),t.qZA(),t.TgZ(40,"mat-form-field")(41,"mat-label"),t._uU(42,"Estado"),t.qZA(),t._UZ(43,"input",17),t.TgZ(44,"mat-autocomplete",8,18),t.YNc(46,Rt,2,2,"mat-option",10),t.ALo(47,"async"),t.qZA(),t.YNc(48,Ot,2,0,"mat-error",6),t.YNc(49,$t,2,0,"mat-error",6),t.qZA(),t.TgZ(50,"mat-form-field")(51,"mat-label"),t._uU(52,"Munic\xedpio"),t.qZA(),t._UZ(53,"input",19),t.TgZ(54,"mat-autocomplete",8,20),t.YNc(56,kt,2,2,"mat-option",10),t.ALo(57,"async"),t.qZA(),t.YNc(58,Vt,2,0,"mat-error",6),t.YNc(59,Wt,2,0,"mat-error",6),t.qZA()(),t.TgZ(60,"mat-form-field",21)(61,"mat-label"),t._uU(62,"E-mail"),t.qZA(),t._UZ(63,"input",22),t.YNc(64,Gt,2,0,"mat-error",6),t.YNc(65,Lt,2,0,"mat-error",6),t.qZA(),t.TgZ(66,"mat-form-field")(67,"mat-label"),t._uU(68,"Depend\xeancia"),t.qZA(),t._UZ(69,"input",23),t.YNc(70,Ht,2,0,"mat-error",6),t.qZA(),t.TgZ(71,"mat-form-field")(72,"mat-label"),t._uU(73,"Entidade"),t.qZA(),t._UZ(74,"input",24),t.YNc(75,zt,2,0,"mat-error",6),t.qZA(),t.TgZ(76,"fieldset",25)(77,"mat-form-field")(78,"mat-label"),t._uU(79,"Credenciamento"),t.qZA(),t._UZ(80,"input",26),t.YNc(81,Pt,2,0,"mat-error",6),t.qZA(),t.TgZ(82,"mat-form-field")(83,"mat-label"),t._uU(84,"Validade de Credenciamento"),t.qZA(),t._UZ(85,"input",27),t.YNc(86,jt,2,0,"mat-error",6),t.YNc(87,Xt,2,0,"mat-error",6),t.qZA(),t.TgZ(88,"mat-form-field")(89,"mat-label"),t._uU(90,"Recredenciamento"),t.qZA(),t._UZ(91,"input",28),t.qZA(),t.TgZ(92,"mat-form-field")(93,"mat-label"),t._uU(94,"Validade de Recredenciamento"),t.qZA(),t._UZ(95,"input",29),t.YNc(96,wt,2,0,"mat-error",6),t.qZA()()(),t.TgZ(97,"div",30),t._UZ(98,"span",31),t.TgZ(99,"button",32),t.NdJ("click",function(){return i.onSubmit()}),t._uU(100,"Salvar"),t.qZA(),t.TgZ(101,"button",33),t.NdJ("click",function(){return i.navigateToTable()}),t._uU(102,"Cancelar"),t.qZA()()()),2&o){const n=t.MAs(15),l=t.MAs(45),u=t.MAs(55);t.xp6(3),t.hij("",0===i.formMode?"Nova":"Editar"," Institui\xe7\xe3o"),t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(5),t.Q6J("ngIf",i.form.controls.instituicao.hasError("required")),t.xp6(4),t.Q6J("matAutocomplete",n),t.xp6(1),t.Q6J("displayWith",i.displayAuto("nivelEscolar")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(17,28,i.nivelEscolar$)),t.xp6(2),t.Q6J("ngIf",i.form.controls.nivelEscolar.hasError("required")),t.xp6(1),t.Q6J("ngIf",!i.form.controls.nivelEscolar.hasError("required")&&i.form.controls.nivelEscolar.hasError("invalidAutocomplete")),t.xp6(11),t.Q6J("ngIf",i.form.controls.endereco.controls.rua.hasError("required")),t.xp6(9),t.Q6J("ngIf",i.form.controls.endereco.controls.bairro.hasError("required")),t.xp6(4),t.Q6J("matAutocomplete",l),t.xp6(1),t.Q6J("displayWith",i.displayAuto("nome")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(47,30,i.ufs$)),t.xp6(2),t.Q6J("ngIf",i.form.controls.endereco.controls.uf.hasError("required")),t.xp6(1),t.Q6J("ngIf",!i.form.controls.endereco.controls.uf.hasError("required")&&i.form.controls.endereco.controls.uf.hasError("invalidAutocomplete")),t.xp6(4),t.Q6J("matAutocomplete",u),t.xp6(1),t.Q6J("displayWith",i.displayAuto("nome")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(57,32,i.municipios$)),t.xp6(2),t.Q6J("ngIf",i.form.controls.endereco.controls.municipio.hasError("required")),t.xp6(1),t.Q6J("ngIf",!i.form.controls.endereco.controls.municipio.hasError("required")&&i.form.controls.endereco.controls.municipio.hasError("invalidAutocomplete")),t.xp6(5),t.Q6J("ngIf",i.form.get("email").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.form.get("email").hasError("email")),t.xp6(5),t.Q6J("ngIf",i.form.get("dependencia").hasError("required")),t.xp6(5),t.Q6J("ngIf",i.form.get("entidade").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.form.get("credenciamento").hasError("required")),t.xp6(5),t.Q6J("ngIf",i.form.get("validadeCredenciamento").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.form.controls.validadeCredenciamento.hasError("pattern")),t.xp6(9),t.Q6J("ngIf",i.form.controls.validadeRecredenciamento.hasError("pattern"))}},dependencies:[s.sg,s.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,c.x0,x.lW,f.TO,f.KE,f.hX,N.Nt,Dt.ey,D.XC,D.ZL,s.Ov]}),e})();const Kt=[{path:"",component:Et},{path:"create",component:y},{path:":id/edit",component:y}];let te=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(Kt),p.Bz]}),e})();var ee=r(9443);let oe=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,c.UX,ee.q,te]}),e})()}}]);
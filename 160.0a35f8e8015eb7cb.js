"use strict";(self.webpackChunksaute_web=self.webpackChunksaute_web||[]).push([[160],{6160:(X,E,i)=>{i.r(E),i.d(E,{NivelEscolarModule:()=>K});var d=i(6895),c=i(9299),N=i(8739),f=i(6308),l=i(7155),D=i(9300),_=i(3900),t=i(4650),h=i(6055),T=i(361),A=i(7392),b=i(4859),y=i(4850),v=i(8255),u=i(9549),C=i(4144),x=i(3162);function U(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"mat-form-field",22)(1,"mat-label"),t._uU(2,"Filtrar por"),t.qZA(),t.TgZ(3,"mat-icon",23),t._uU(4,"filter_alt"),t.qZA(),t.TgZ(5,"input",24,25),t.NdJ("keyup",function(n){t.CHM(a);const m=t.oxw();return t.KtG(m.applyFilter(n))}),t.qZA()()}}function S(e,r){1&e&&(t.TgZ(0,"th",26),t._uU(1,"#"),t.qZA())}function F(e,r){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(1),t.Oqu(a.id)}}function M(e,r){1&e&&(t.TgZ(0,"th",26),t._uU(1,"N\xedvel Escolar"),t.qZA())}function Y(e,r){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(1),t.Oqu(a.nivelEscolar)}}function k(e,r){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Criado em"),t.qZA())}function J(e,r){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=r.$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,a.createdAt,"short","","pt-BR"))}}function R(e,r){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Atualizado em"),t.qZA())}function Q(e,r){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=r.$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,a.updatedAt,"short","","pt-BR"))}}function I(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"A\xe7\xf5es"),t.qZA())}function w(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"td",27)(1,"button",29),t.NdJ("click",function(){const m=t.CHM(a).$implicit,g=t.oxw();return t.KtG(g.onUpdate(m.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",30),t.NdJ("click",function(){const m=t.CHM(a).$implicit,g=t.oxw();return t.KtG(g.onDelete(m.id))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function B(e,r){1&e&&t._UZ(0,"tr",31)}function O(e,r){1&e&&t._UZ(0,"tr",32)}function q(e,r){1&e&&t._UZ(0,"mat-progress-bar",33)}const z=function(){return[5,10,25,100]};let H=(()=>{class e{constructor(a,o,n){this.service=a,this.router=o,this.helper=n,this.isLoadingData=!0,this.isEnabledFilter=!1,this.displayedColumns=["id","nivelEscolar","createdAt","updatedAt","actions"],this.dataSource=new l.by([]),this.paginator={},this.sort={},this.loadDatatable()}loadDatatable(){this.service.index().subscribe({next:a=>{this.dataSource=new l.by(a),this.sort.sortables&&(this.dataSource.sort=this.sort),this.paginator.page&&(this.dataSource.paginator=this.paginator),this.isLoadingData=!1}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onDelete(a){this.helper.confirmDialog().pipe((0,D.h)(o=>o),(0,_.w)(o=>this.service.destroy(a))).subscribe({next:o=>{this.helper.alertSnack("Removido com sucesso!"),this.refreshComponent()},error:o=>this.defaultError(o)})}onUpdate(a){this.router.navigate([`nivelescolar/${a}/edit`])}refreshComponent(){this.router.navigateByUrl("instituicao",{skipLocationChange:!0}).then(()=>{this.router.navigate(["nivelescolar"])})}defaultError(a){console.log(a.status),this.helper.alertSnack(403==a.status?"Sem permiss\xe3o para esta opera\xe7\xe3o":"Ocorreu um erro")}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(h.d),t.Y36(c.F0),t.Y36(T.W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-nivel-escolar-datatable"]],viewQuery:function(a,o){if(1&a&&(t.Gf(N.NW,5),t.Gf(f.YE,5)),2&a){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},decls:40,vars:9,consts:[[1,"header-view"],[1,"mat-h1"],["vertical",""],[1,"toolbar-spacer"],["mat-raised-button","","color","primary","routerLink","/nivelescolar/create"],["mat-raised-button","","color","accent",1,"ml-2",3,"matMenuTriggerFor"],["optMenu","matMenu"],["mat-menu-item","",3,"click"],["appearance","standard",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nivelEscolar"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mode","indeterminate",4,"ngIf"],[3,"pageSizeOptions","pageSize"],["appearance","standard"],["matSuffix",""],["matInput","","placeholder","",3,"keyup"],["input",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div")(2,"span",1),t._uU(3,"N\xedvel Escolar"),t.qZA()(),t._UZ(4,"mat-divider",2)(5,"span",3),t.TgZ(6,"div")(7,"button",4),t._uU(8,"Novo Registro"),t.qZA(),t.TgZ(9,"button",5)(10,"mat-icon"),t._uU(11,"tune"),t.qZA()(),t.TgZ(12,"mat-menu",null,6)(14,"button",7),t.NdJ("click",function(){return o.isEnabledFilter=!o.isEnabledFilter}),t.TgZ(15,"mat-icon"),t._uU(16,"filter_alt"),t.qZA(),t.TgZ(17,"span"),t._uU(18,"Filtros"),t.qZA()()()()(),t.YNc(19,U,7,0,"mat-form-field",8),t.TgZ(20,"table",9),t.ynx(21,10),t.YNc(22,S,2,0,"th",11),t.YNc(23,F,2,1,"td",12),t.BQk(),t.ynx(24,13),t.YNc(25,M,2,0,"th",11),t.YNc(26,Y,2,1,"td",12),t.BQk(),t.ynx(27,14),t.YNc(28,k,2,0,"th",11),t.YNc(29,J,3,6,"td",12),t.BQk(),t.ynx(30,15),t.YNc(31,R,2,0,"th",11),t.YNc(32,Q,3,6,"td",12),t.BQk(),t.ynx(33,16),t.YNc(34,I,2,0,"th",17),t.YNc(35,w,7,0,"td",12),t.BQk(),t.YNc(36,B,1,0,"tr",18),t.YNc(37,O,1,0,"tr",19),t.qZA(),t.YNc(38,q,1,0,"mat-progress-bar",20),t._UZ(39,"mat-paginator",21)),2&a){const n=t.MAs(13);t.xp6(9),t.Q6J("matMenuTriggerFor",n),t.xp6(10),t.Q6J("ngIf",o.isEnabledFilter),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.isLoadingData),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(8,z))("pageSize",10)}},dependencies:[d.O5,c.rH,A.Hw,b.lW,y.d,v.VK,v.OP,v.p6,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,u.KE,u.hX,u.R9,C.Nt,N.NW,f.YE,f.nU,x.pW,d.uU]}),e})();var s=i(4006),p=i(3789);function G(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo \xe9 requerido. "),t.qZA())}let Z=(()=>{class e{constructor(a,o,n,m){this.service=a,this.router=o,this.route=n,this.snack=m,this.formMode=p.h.INSERT,this.entity={id:0},this.form=new s.cw({nivelEscolar:new s.NI("",[s.kI.required])})}ngOnInit(){this.route.snapshot.params.id?(this.formMode=p.h.UPDATE,this.entity.id=this.route.snapshot.params.id,this.service.show(this.route.snapshot.params.id).subscribe({next:a=>{a.id?(this.entity=a,this.form.patchValue(a)):this.navigateToTable()}})):(this.formMode=p.h.INSERT,this.entity={})}onSubmit(){this.form.valid?(this.entity={...this.entity,...this.form.value},this.formMode===p.h.INSERT?this.service.store({...this.entity}).subscribe({next:a=>{this.snack.alertSnack("Inserido com sucesso."),this.navigateToTable()},error:a=>this.defaultError(a)}):this.service.update({...this.entity}).subscribe({next:a=>{this.snack.alertSnack("Atualizado com sucesso."),this.navigateToTable()},error:a=>this.defaultError(a)})):this.form.markAllAsTouched()}navigateToTable(){this.router.navigate(["nivelescolar"])}defaultError(a){this.snack.alertSnack(403==a.status?"Sem permiss\xe3o para esta opera\xe7\xe3o":"Ocorreu um erro")}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(h.d),t.Y36(c.F0),t.Y36(c.gz),t.Y36(T.W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-nivel-escolar-form"]],decls:16,vars:3,consts:[[1,"form-view"],[1,"header-form"],[1,"mat-h1"],[1,"flex-form",3,"formGroup"],["matInput","","type","text","placeholder","N\xedvel Escolar","formControlName","nivelEscolar"],[4,"ngIf"],[1,"bottom-form"],[1,"toolbar-spacer"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",1,"ml-2",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA()(),t.TgZ(4,"form",3)(5,"mat-form-field")(6,"mat-label"),t._uU(7,"N\xedvel Escolar"),t.qZA(),t._UZ(8,"input",4),t.YNc(9,G,2,0,"mat-error",5),t.qZA()(),t.TgZ(10,"div",6),t._UZ(11,"span",7),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onSubmit()}),t._uU(13,"Salvar"),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){return o.navigateToTable()}),t._uU(15,"Cancelar"),t.qZA()()()),2&a&&(t.xp6(3),t.hij("",0===o.formMode?"Novo":"Editar"," N\xedvel Escolar"),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("ngIf",o.form.get("nivelEscolar").hasError("required")))},dependencies:[d.O5,b.lW,u.TO,u.KE,u.hX,C.Nt,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),e})();const L=[{path:"",component:H},{path:"create",component:Z},{path:":id/edit",component:Z}];let W=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(L),c.Bz]}),e})();var $=i(9443);let K=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[h.d],imports:[d.ez,W,$.q,s.UX,c.Bz]}),e})()}}]);